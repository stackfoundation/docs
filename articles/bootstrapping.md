# Sandbox bootstrapping

In order to allow you to run workflows on any machine with just a few tiny binaries, Sandbox performs a "bootstrapping" step when you run it for the first time on a machine. Let's examine what happens when you run a workflow using a command like `sbox run functional-tests`:

*   The `sbox` command is actually an executable Unix shell script which runs one of several cross-platform "wrapper" binaries found in the `sbox-cli` folder. For example, on Mac OS X, `sbox` executes a "wrapper" binary called `wrapper-x.y.z-darwin-386` that is about 50KB in size. On Windows, the `sbox.exe` wrapper binary is in the root of the project with the `sbox` script, and is run directly.
*   The wrapper binaries download additional components for the CLI that make up the core of the CLI. These components consist of two binaries called "bootstrap", and "core", which are downloaded to a platform-specific location (on Mac and Linux this is usually `/usr/local/sf`, and on Windows, it's within the `Roaming/sf` folder inside the user's `AppData` folder). This is done only when the CLI is run for the first time. Subsequent calls will generally use the core components that were previously downloaded. Occasionally, updated versions of the CLI may be downloaded if present. By default, the CLI components are downloaded from the official StackFoundation servers. If necessary, the CLI can be told to download these components from alternate mirror servers that you setup. You can see how this is done in the documentation about [mirrors](/docs/cli#mirrors).
*   After the core CLI components are downloaded, this CLI core then sets up a virtual machine on your operating system. The exact mechanism by which a virtual machine is created depends on your operating system. Native support for virtualization is used where available - for example, the Hypervisor framework is used on Mac OS X, and HyperV is used on versions of Windows where it is present. When native virtualization support is not available, the CLI will install a version of [VirtualBox](https://www.virtualbox.org/) for your platform. The CLI core creates the virtual machine from an image which contains a lightweight Linux distribution, and which runs a Docker daemon.
*   After the virtual machine is created, the CLI core then sets up a single-node [Kubernetes](https://kubernetes.io/) cluster.

The above process constitutes the "bootstrapping" of Sandbox. Bootstrapping generally occurs only on first run on a machine, and when there are updates to Sandbox. After Sandbox has been bootstrapped, and the Kubernetes cluster is up and running, Sandbox will run workflows using Kubernetes as the target platform. That means it translates workflow constructs into Kubernetes constructs - for example, a step execution is performed as the execution of a Kubernetes pod.